{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nexport default {\n  name: 'MapForumPage',\n  data: function data() {\n    return {\n      viewMode: 'projects',\n      selectedDepartment: '',\n      selectedZone: '',\n      selectedForumDepartment: 'Water',\n      forumView: 'recent',\n      showNewThreadModal: false,\n      mapLayers: {\n        roads: true,\n        waterLines: false,\n        zones: true\n      },\n      departments: ['Water Supply', 'Roads & Bridges', 'Sanitation', 'Electricity', 'Public Works'],\n      zones: ['Ward 1', 'Ward 2', 'Ward 3', 'Ward 4', 'Ward 5'],\n      map: null,\n      markers: [],\n      newThread: {\n        title: '',\n        content: '',\n        attachments: []\n      },\n      forumThreads: [{\n        id: 'THR001',\n        department: 'Water Supply',\n        title: 'Pipeline delay at Ward 9',\n        content: 'Need urgent attention for the pipeline project delay. Multiple complaints received.',\n        created_by: 'Eng. Mehta',\n        timestamp: '2024-02-20T14:00',\n        comments: [{\n          author: 'Commissioner Rao',\n          content: 'Escalating this to priority. Tagging @CivilDept',\n          timestamp: '2024-02-20T14:30',\n          attachments: ['report.pdf'],\n          mentions: ['CivilDept']\n        }]\n      }],\n      isAuthenticated: false\n    };\n  },\n  created: function created() {\n    // Check authentication\n    this.isAuthenticated = localStorage.getItem('isAuthenticated') === 'true';\n    if (!this.isAuthenticated) {\n      this.$router.push('/sign-in');\n      return;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n    if (!this.isAuthenticated) return;\n\n    // Initialize map with a delay to ensure container is rendered\n    setTimeout(function () {\n      _this.initMap();\n    }, 100);\n  },\n  beforeDestroy: function beforeDestroy() {\n    // Clean up map when component is destroyed\n    if (this.map) {\n      this.map.remove();\n      this.map = null;\n    }\n  },\n  computed: {\n    filteredThreads: function filteredThreads() {\n      var _this2 = this;\n      return this.forumThreads.filter(function (thread) {\n        var matchesDepartment = thread.department === _this2.selectedForumDepartment;\n        var matchesView = _this2.forumView === 'recent' || _this2.forumView === 'active' && thread.comments.length > 2 || _this2.forumView === 'mentions' && thread.comments.some(function (c) {\n          var _c$mentions;\n          return ((_c$mentions = c.mentions) === null || _c$mentions === void 0 ? void 0 : _c$mentions.length) > 0;\n        });\n        return matchesDepartment && matchesView;\n      });\n    }\n  },\n  methods: {\n    initMap: function initMap() {\n      var _this3 = this;\n      try {\n        // Fix Leaflet default icon issue\n        delete L.Icon.Default.prototype._getIconUrl;\n        L.Icon.Default.mergeOptions({\n          iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n          iconUrl: require('leaflet/dist/images/marker-icon.png'),\n          shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n        });\n\n        // Initialize map\n        if (!this.$refs.mapContainer) {\n          console.error('Map container not found');\n          return;\n        }\n\n        // Create map instance with specific options\n        this.map = L.map(this.$refs.mapContainer, {\n          center: [12.9716, 77.5946],\n          zoom: 12,\n          zoomControl: true,\n          attributionControl: true,\n          minZoom: 5,\n          maxZoom: 18\n        });\n\n        // Add tile layer\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n          attribution: '© OpenStreetMap contributors',\n          maxZoom: 19\n        }).addTo(this.map);\n\n        // Force a resize event after a short delay\n        setTimeout(function () {\n          _this3.map.invalidateSize();\n          _this3.loadMarkers();\n        }, 200);\n      } catch (error) {\n        console.error('Error in initMap:', error);\n      }\n    },\n    loadMarkers: function loadMarkers() {\n      var _this4 = this;\n      // Clear existing markers\n      this.markers.forEach(function (marker) {\n        return marker.remove();\n      });\n      this.markers = [];\n\n      // Sample markers data\n      var markers = [{\n        type: 'project',\n        id: 'PRJ123',\n        coords: [12.94, 77.61],\n        status: 'In Progress',\n        title: 'Water Pipeline Upgrade',\n        zone: 'Ward 11'\n      }, {\n        type: 'complaint',\n        id: 'CMP009',\n        coords: [12.95, 77.62],\n        status: 'Unresolved',\n        priority: 'High',\n        title: 'Overflowing drain',\n        zone: 'Ward 12'\n      }];\n      markers.forEach(function (marker) {\n        var icon = L.divIcon({\n          className: \"marker \".concat(marker.type),\n          html: \"<i class=\\\"fas fa-\".concat(marker.type === 'project' ? 'project-diagram' : 'exclamation-circle', \"\\\"></i>\")\n        });\n        var markerObj = L.marker(marker.coords, {\n          icon: icon\n        }).bindPopup(\"\\n            <div class=\\\"marker-popup\\\">\\n              <h4>\".concat(marker.title, \"</h4>\\n              <p>Status: \").concat(marker.status, \"</p>\\n              <p>Zone: \").concat(marker.zone, \"</p>\\n            </div>\\n          \")).addTo(_this4.map);\n        _this4.markers.push(markerObj);\n      });\n    },\n    formatDate: function formatDate(date) {\n      return new Date(date).toLocaleDateString('en-IN', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    },\n    handleFileUpload: function handleFileUpload(event) {\n      var _this$newThread$attac;\n      var files = Array.from(event.target.files);\n      (_this$newThread$attac = this.newThread.attachments).push.apply(_this$newThread$attac, files);\n    },\n    createThread: function createThread() {\n      if (!this.newThread.title || !this.newThread.content) return;\n      var thread = {\n        id: \"THR\".concat(Math.floor(Math.random() * 10000)),\n        department: this.selectedForumDepartment,\n        title: this.newThread.title,\n        content: this.newThread.content,\n        created_by: 'Dr.Shivayogi.B.Yali',\n        timestamp: new Date().toISOString(),\n        comments: [],\n        attachments: this.newThread.attachments\n      };\n      this.forumThreads.unshift(thread);\n      this.showNewThreadModal = false;\n      this.newThread = {\n        title: '',\n        content: '',\n        attachments: []\n      };\n    },\n    handleLogout: function handleLogout() {\n      localStorage.removeItem('isAuthenticated');\n      localStorage.removeItem('user');\n      this.$router.push('/');\n    }\n  }\n};","map":{"version":3,"names":["L","name","data","viewMode","selectedDepartment","selectedZone","selectedForumDepartment","forumView","showNewThreadModal","mapLayers","roads","waterLines","zones","departments","map","markers","newThread","title","content","attachments","forumThreads","id","department","created_by","timestamp","comments","author","mentions","isAuthenticated","created","localStorage","getItem","$router","push","mounted","_this","setTimeout","initMap","beforeDestroy","remove","computed","filteredThreads","_this2","filter","thread","matchesDepartment","matchesView","length","some","c","_c$mentions","methods","_this3","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","$refs","mapContainer","console","error","center","zoom","zoomControl","attributionControl","minZoom","maxZoom","tileLayer","attribution","addTo","invalidateSize","loadMarkers","_this4","forEach","marker","type","coords","status","zone","priority","icon","divIcon","className","concat","html","markerObj","bindPopup","formatDate","date","Date","toLocaleDateString","year","month","day","hour","minute","handleFileUpload","event","_this$newThread$attac","files","Array","from","target","apply","createThread","Math","floor","random","toISOString","unshift","handleLogout","removeItem"],"sources":["src/views/MapForumPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"page03-container10\">\r\n    <!-- Sidebar -->\r\n    <div class=\"page03-container11\">\r\n      <div class=\"sidebar-header\">\r\n        <span class=\"page03-text10\">&lt;/&gt; Civilinc</span>\r\n        <div class=\"page03-container12\">\r\n          <img src=\"/Shivayogi-pic.jpg\" alt=\"Profile\" class=\"page03-image\" />\r\n        </div>\r\n        <span class=\"page03-text11\">Welcome back,</span>\r\n        <span class=\"page03-text12\">Dr.Shivayogi.B.Yali</span>\r\n        <span class=\"user-role\">Municipal Commissioner</span>\r\n      </div>\r\n      \r\n      <nav class=\"sidebar-nav\">\r\n        <router-link to=\"/dashboard\" class=\"page03-link1\">\r\n          <i class=\"fas fa-chart-line\"></i>\r\n          Dashboard\r\n        </router-link>\r\n        <router-link to=\"/projects-complaints\" class=\"page03-link2\">\r\n          <i class=\"fas fa-tasks\"></i>\r\n          Projects & Complaints\r\n        </router-link>\r\n        <router-link to=\"/map-forum\" class=\"page03-link3\">\r\n          <i class=\"fas fa-map-marked-alt\"></i>\r\n          Map & Forum\r\n        </router-link>\r\n        <router-link to=\"/data-reports\" class=\"page03-link4\">\r\n          <i class=\"fas fa-database\"></i>\r\n          Data & Reports\r\n        </router-link>\r\n        <router-link to=\"/profile-settings\" class=\"page03-link5\">\r\n          <i class=\"fas fa-user-cog\"></i>\r\n          Profile & Settings\r\n        </router-link>\r\n        <router-link to=\"/\" class=\"page03-link6\" @click=\"handleLogout\">\r\n          <i class=\"fas fa-sign-out-alt\"></i>\r\n          Logout\r\n        </router-link>\r\n      </nav>\r\n    </div>\r\n\r\n    <!-- Main Content -->\r\n    <div class=\"main-content\">\r\n      <div class=\"map-forum-container\">\r\n        <!-- Map Panel -->\r\n        <div class=\"map-panel\">\r\n          <div class=\"map-controls\">\r\n            <div class=\"view-toggle\">\r\n              <button \r\n                :class=\"['toggle-btn', { active: viewMode === 'projects' }]\"\r\n                @click=\"viewMode = 'projects'\"\r\n              >\r\n                <i class=\"fas fa-project-diagram\"></i>\r\n                Projects\r\n              </button>\r\n              <button \r\n                :class=\"['toggle-btn', { active: viewMode === 'complaints' }]\"\r\n                @click=\"viewMode = 'complaints'\"\r\n              >\r\n                <i class=\"fas fa-exclamation-circle\"></i>\r\n                Complaints\r\n              </button>\r\n            </div>\r\n            \r\n            <div class=\"filters\">\r\n              <select v-model=\"selectedDepartment\" class=\"filter-select\">\r\n                <option value=\"\">All Departments</option>\r\n                <option v-for=\"dept in departments\" :key=\"dept\" :value=\"dept\">\r\n                  {{ dept }}\r\n                </option>\r\n              </select>\r\n              \r\n              <select v-model=\"selectedZone\" class=\"filter-select\">\r\n                <option value=\"\">All Zones</option>\r\n                <option v-for=\"zone in zones\" :key=\"zone\" :value=\"zone\">\r\n                  {{ zone }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n\r\n            <div class=\"layer-toggle\">\r\n              <label class=\"layer-checkbox\">\r\n                <input type=\"checkbox\" v-model=\"mapLayers.roads\">\r\n                <span>Roads</span>\r\n              </label>\r\n              <label class=\"layer-checkbox\">\r\n                <input type=\"checkbox\" v-model=\"mapLayers.waterLines\">\r\n                <span>Water Lines</span>\r\n              </label>\r\n              <label class=\"layer-checkbox\">\r\n                <input type=\"checkbox\" v-model=\"mapLayers.zones\">\r\n                <span>Zones</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"map-container\" ref=\"mapContainer\"></div>\r\n        </div>\r\n\r\n        <!-- Forum Panel -->\r\n        <div class=\"forum-panel\">\r\n          <div class=\"forum-header\">\r\n            <h2>Department Forum</h2>\r\n            <select v-model=\"selectedForumDepartment\" class=\"forum-department-select\">\r\n              <option v-for=\"dept in departments\" :key=\"dept\" :value=\"dept\">\r\n                {{ dept }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"forum-tabs\">\r\n            <button \r\n              :class=\"['forum-tab', { active: forumView === 'recent' }]\"\r\n              @click=\"forumView = 'recent'\"\r\n            >\r\n              Most Recent\r\n            </button>\r\n            <button \r\n              :class=\"['forum-tab', { active: forumView === 'active' }]\"\r\n              @click=\"forumView = 'active'\"\r\n            >\r\n              Most Active\r\n            </button>\r\n            <button \r\n              :class=\"['forum-tab', { active: forumView === 'mentions' }]\"\r\n              @click=\"forumView = 'mentions'\"\r\n            >\r\n              Mentions\r\n            </button>\r\n          </div>\r\n\r\n          <div class=\"forum-threads\">\r\n            <div v-for=\"thread in filteredThreads\" :key=\"thread.id\" class=\"thread-card\">\r\n              <div class=\"thread-header\">\r\n                <h3>{{ thread.title }}</h3>\r\n                <span class=\"thread-meta\">\r\n                  {{ thread.department }} • {{ formatDate(thread.timestamp) }}\r\n                </span>\r\n              </div>\r\n              <p class=\"thread-preview\">{{ thread.content }}</p>\r\n              <div class=\"thread-footer\">\r\n                <span class=\"author\">By {{ thread.created_by }}</span>\r\n                <span class=\"comments-count\">\r\n                  <i class=\"fas fa-comments\"></i>\r\n                  {{ thread.comments.length }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"new-thread\">\r\n            <button class=\"new-thread-btn\" @click=\"showNewThreadModal = true\">\r\n              <i class=\"fas fa-plus\"></i>\r\n              New Thread\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- New Thread Modal -->\r\n    <div v-if=\"showNewThreadModal\" class=\"modal-overlay\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h3>New Thread</h3>\r\n          <button class=\"close-btn\" @click=\"showNewThreadModal = false\">\r\n            <i class=\"fas fa-times\"></i>\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <input \r\n            type=\"text\" \r\n            v-model=\"newThread.title\" \r\n            placeholder=\"Thread Title\"\r\n            class=\"thread-title-input\"\r\n          >\r\n          <textarea \r\n            v-model=\"newThread.content\" \r\n            placeholder=\"Write your message...\"\r\n            class=\"thread-content-input\"\r\n          ></textarea>\r\n          <div class=\"attachment-section\">\r\n            <button class=\"attach-btn\">\r\n              <i class=\"fas fa-paperclip\"></i>\r\n              Attach Files\r\n            </button>\r\n            <input type=\"file\" multiple class=\"file-input\" @change=\"handleFileUpload\">\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button class=\"cancel-btn\" @click=\"showNewThreadModal = false\">Cancel</button>\r\n          <button class=\"submit-btn\" @click=\"createThread\">Create Thread</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport L from 'leaflet'\r\nimport 'leaflet/dist/leaflet.css'\r\n\r\nexport default {\r\n  name: 'MapForumPage',\r\n  data() {\r\n    return {\r\n      viewMode: 'projects',\r\n      selectedDepartment: '',\r\n      selectedZone: '',\r\n      selectedForumDepartment: 'Water',\r\n      forumView: 'recent',\r\n      showNewThreadModal: false,\r\n      mapLayers: {\r\n        roads: true,\r\n        waterLines: false,\r\n        zones: true\r\n      },\r\n      departments: [\r\n        'Water Supply',\r\n        'Roads & Bridges',\r\n        'Sanitation',\r\n        'Electricity',\r\n        'Public Works'\r\n      ],\r\n      zones: [\r\n        'Ward 1',\r\n        'Ward 2',\r\n        'Ward 3',\r\n        'Ward 4',\r\n        'Ward 5'\r\n      ],\r\n      map: null,\r\n      markers: [],\r\n      newThread: {\r\n        title: '',\r\n        content: '',\r\n        attachments: []\r\n      },\r\n      forumThreads: [\r\n        {\r\n          id: 'THR001',\r\n          department: 'Water Supply',\r\n          title: 'Pipeline delay at Ward 9',\r\n          content: 'Need urgent attention for the pipeline project delay. Multiple complaints received.',\r\n          created_by: 'Eng. Mehta',\r\n          timestamp: '2024-02-20T14:00',\r\n          comments: [\r\n            {\r\n              author: 'Commissioner Rao',\r\n              content: 'Escalating this to priority. Tagging @CivilDept',\r\n              timestamp: '2024-02-20T14:30',\r\n              attachments: ['report.pdf'],\r\n              mentions: ['CivilDept']\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      isAuthenticated: false\r\n    }\r\n  },\r\n  created() {\r\n    // Check authentication\r\n    this.isAuthenticated = localStorage.getItem('isAuthenticated') === 'true'\r\n    if (!this.isAuthenticated) {\r\n      this.$router.push('/sign-in')\r\n      return\r\n    }\r\n  },\r\n  mounted() {\r\n    if (!this.isAuthenticated) return\r\n\r\n    // Initialize map with a delay to ensure container is rendered\r\n    setTimeout(() => {\r\n      this.initMap()\r\n    }, 100)\r\n  },\r\n  beforeDestroy() {\r\n    // Clean up map when component is destroyed\r\n    if (this.map) {\r\n      this.map.remove()\r\n      this.map = null\r\n    }\r\n  },\r\n  computed: {\r\n    filteredThreads() {\r\n      return this.forumThreads.filter(thread => {\r\n        const matchesDepartment = thread.department === this.selectedForumDepartment\r\n        const matchesView = this.forumView === 'recent' || \r\n                          (this.forumView === 'active' && thread.comments.length > 2) ||\r\n                          (this.forumView === 'mentions' && thread.comments.some(c => c.mentions?.length > 0))\r\n        return matchesDepartment && matchesView\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    initMap() {\r\n      try {\r\n        // Fix Leaflet default icon issue\r\n        delete L.Icon.Default.prototype._getIconUrl\r\n        L.Icon.Default.mergeOptions({\r\n          iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n          iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n          shadowUrl: require('leaflet/dist/images/marker-shadow.png')\r\n        })\r\n\r\n        // Initialize map\r\n        if (!this.$refs.mapContainer) {\r\n          console.error('Map container not found')\r\n          return\r\n        }\r\n\r\n        // Create map instance with specific options\r\n        this.map = L.map(this.$refs.mapContainer, {\r\n          center: [12.9716, 77.5946],\r\n          zoom: 12,\r\n          zoomControl: true,\r\n          attributionControl: true,\r\n          minZoom: 5,\r\n          maxZoom: 18\r\n        })\r\n\r\n        // Add tile layer\r\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n          attribution: '© OpenStreetMap contributors',\r\n          maxZoom: 19\r\n        }).addTo(this.map)\r\n\r\n        // Force a resize event after a short delay\r\n        setTimeout(() => {\r\n          this.map.invalidateSize()\r\n          this.loadMarkers()\r\n        }, 200)\r\n      } catch (error) {\r\n        console.error('Error in initMap:', error)\r\n      }\r\n    },\r\n    loadMarkers() {\r\n      // Clear existing markers\r\n      this.markers.forEach(marker => marker.remove())\r\n      this.markers = []\r\n\r\n      // Sample markers data\r\n      const markers = [\r\n        {\r\n          type: 'project',\r\n          id: 'PRJ123',\r\n          coords: [12.94, 77.61],\r\n          status: 'In Progress',\r\n          title: 'Water Pipeline Upgrade',\r\n          zone: 'Ward 11'\r\n        },\r\n        {\r\n          type: 'complaint',\r\n          id: 'CMP009',\r\n          coords: [12.95, 77.62],\r\n          status: 'Unresolved',\r\n          priority: 'High',\r\n          title: 'Overflowing drain',\r\n          zone: 'Ward 12'\r\n        }\r\n      ]\r\n\r\n      markers.forEach(marker => {\r\n        const icon = L.divIcon({\r\n          className: `marker ${marker.type}`,\r\n          html: `<i class=\"fas fa-${marker.type === 'project' ? 'project-diagram' : 'exclamation-circle'}\"></i>`\r\n        })\r\n\r\n        const markerObj = L.marker(marker.coords, { icon })\r\n          .bindPopup(`\r\n            <div class=\"marker-popup\">\r\n              <h4>${marker.title}</h4>\r\n              <p>Status: ${marker.status}</p>\r\n              <p>Zone: ${marker.zone}</p>\r\n            </div>\r\n          `)\r\n          .addTo(this.map)\r\n\r\n        this.markers.push(markerObj)\r\n      })\r\n    },\r\n    formatDate(date) {\r\n      return new Date(date).toLocaleDateString('en-IN', {\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      })\r\n    },\r\n    handleFileUpload(event) {\r\n      const files = Array.from(event.target.files)\r\n      this.newThread.attachments.push(...files)\r\n    },\r\n    createThread() {\r\n      if (!this.newThread.title || !this.newThread.content) return\r\n\r\n      const thread = {\r\n        id: `THR${Math.floor(Math.random() * 10000)}`,\r\n        department: this.selectedForumDepartment,\r\n        title: this.newThread.title,\r\n        content: this.newThread.content,\r\n        created_by: 'Dr.Shivayogi.B.Yali',\r\n        timestamp: new Date().toISOString(),\r\n        comments: [],\r\n        attachments: this.newThread.attachments\r\n      }\r\n\r\n      this.forumThreads.unshift(thread)\r\n      this.showNewThreadModal = false\r\n      this.newThread = { title: '', content: '', attachments: [] }\r\n    },\r\n    handleLogout() {\r\n      localStorage.removeItem('isAuthenticated')\r\n      localStorage.removeItem('user')\r\n      this.$router.push('/')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* Inherit styles from page-03.vue */\r\n.page03-container10 {\r\n  width: 100%;\r\n  min-height: 100vh;\r\n  background: url('https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?auto=format&fit=crop&q=80') center/cover no-repeat fixed;\r\n  position: relative;\r\n  display: flex;\r\n  overflow: hidden;\r\n}\r\n\r\n.page03-container10::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.97) 0%, rgba(240, 245, 255, 0.97) 100%);\r\n  backdrop-filter: blur(2px);\r\n  z-index: 0;\r\n}\r\n\r\n/* Main Content Styles */\r\n.main-content {\r\n  margin-left: 260px;\r\n  padding: 2rem;\r\n  width: calc(100% - 260px);\r\n  min-height: 100vh;\r\n  position: relative;\r\n  z-index: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Map & Forum Container */\r\n.map-forum-container {\r\n  display: grid;\r\n  grid-template-columns: 60% 40%;\r\n  gap: 2rem;\r\n  height: calc(100vh - 4rem);\r\n  background: #ffffff;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n  position: relative;\r\n  padding: 1rem;\r\n}\r\n\r\n/* Map Panel Styles */\r\n.map-panel {\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #f8fafc;\r\n  border-right: 1px solid rgba(37, 99, 235, 0.1);\r\n  height: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n  border-radius: 8px;\r\n}\r\n\r\n.map-controls {\r\n  padding: 1rem;\r\n  background: #ffffff;\r\n  border-bottom: 1px solid rgba(37, 99, 235, 0.1);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.view-toggle {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.toggle-btn {\r\n  padding: 0.5rem 1rem;\r\n  border: 1px solid rgba(37, 99, 235, 0.2);\r\n  border-radius: 6px;\r\n  background: #ffffff;\r\n  color: #4b5563;\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.toggle-btn:hover {\r\n  background: rgba(37, 99, 235, 0.05);\r\n}\r\n\r\n.toggle-btn.active {\r\n  background: rgba(37, 99, 235, 0.1);\r\n  color: #2563eb;\r\n  border-color: rgba(37, 99, 235, 0.3);\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  gap: 1rem;\r\n}\r\n\r\n.filter-select {\r\n  padding: 0.5rem;\r\n  border: 1px solid rgba(37, 99, 235, 0.2);\r\n  border-radius: 6px;\r\n  font-size: 0.9rem;\r\n  background: #ffffff;\r\n  min-width: 150px;\r\n}\r\n\r\n.layer-toggle {\r\n  display: flex;\r\n  gap: 1rem;\r\n}\r\n\r\n.layer-checkbox {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-size: 0.9rem;\r\n  color: #4b5563;\r\n  cursor: pointer;\r\n}\r\n\r\n.map-container {\r\n  flex: 1;\r\n  min-height: 500px;\r\n  height: 100%;\r\n  width: 100%;\r\n  z-index: 1;\r\n  position: relative;\r\n  background: #f8fafc;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Forum Panel Styles */\r\n.forum-panel {\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #ffffff;\r\n}\r\n\r\n.forum-header {\r\n  padding: 1rem;\r\n  border-bottom: 1px solid rgba(37, 99, 235, 0.1);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.forum-header h2 {\r\n  font-size: 1.2rem;\r\n  color: #1e40af;\r\n  margin: 0;\r\n}\r\n\r\n.forum-department-select {\r\n  padding: 0.5rem;\r\n  border: 1px solid rgba(37, 99, 235, 0.2);\r\n  border-radius: 6px;\r\n  font-size: 0.9rem;\r\n  background: #ffffff;\r\n}\r\n\r\n.forum-tabs {\r\n  display: flex;\r\n  padding: 1rem;\r\n  gap: 1rem;\r\n  border-bottom: 1px solid rgba(37, 99, 235, 0.1);\r\n}\r\n\r\n.forum-tab {\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  background: none;\r\n  color: #4b5563;\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n  border-radius: 6px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.forum-tab:hover {\r\n  background: rgba(37, 99, 235, 0.05);\r\n  color: #2563eb;\r\n}\r\n\r\n.forum-tab.active {\r\n  background: rgba(37, 99, 235, 0.1);\r\n  color: #2563eb;\r\n  font-weight: 500;\r\n}\r\n\r\n.forum-threads {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 1rem;\r\n}\r\n\r\n.thread-card {\r\n  background: #f8fafc;\r\n  border: 1px solid rgba(37, 99, 235, 0.1);\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 1rem;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.thread-card:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.thread-header {\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.thread-header h3 {\r\n  font-size: 1rem;\r\n  color: #1e40af;\r\n  margin: 0 0 0.3rem 0;\r\n}\r\n\r\n.thread-meta {\r\n  font-size: 0.8rem;\r\n  color: #6b7280;\r\n}\r\n\r\n.thread-preview {\r\n  font-size: 0.9rem;\r\n  color: #4b5563;\r\n  margin: 0.5rem 0;\r\n}\r\n\r\n.thread-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 0.8rem;\r\n  color: #6b7280;\r\n}\r\n\r\n.new-thread {\r\n  padding: 1rem;\r\n  border-top: 1px solid rgba(37, 99, 235, 0.1);\r\n}\r\n\r\n.new-thread-btn {\r\n  width: 100%;\r\n  padding: 0.8rem;\r\n  background: #2563eb;\r\n  color: #ffffff;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.new-thread-btn:hover {\r\n  background: #1d4ed8;\r\n}\r\n\r\n/* Modal Styles */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background: #ffffff;\r\n  border-radius: 12px;\r\n  width: 90%;\r\n  max-width: 600px;\r\n  max-height: 90vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.modal-header {\r\n  padding: 1rem;\r\n  border-bottom: 1px solid rgba(37, 99, 235, 0.1);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.modal-header h3 {\r\n  margin: 0;\r\n  color: #1e40af;\r\n}\r\n\r\n.close-btn {\r\n  background: none;\r\n  border: none;\r\n  color: #6b7280;\r\n  cursor: pointer;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.modal-body {\r\n  padding: 1rem;\r\n  overflow-y: auto;\r\n}\r\n\r\n.thread-title-input {\r\n  width: 100%;\r\n  padding: 0.8rem;\r\n  border: 1px solid rgba(37, 99, 235, 0.2);\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.thread-content-input {\r\n  width: 100%;\r\n  padding: 0.8rem;\r\n  border: 1px solid rgba(37, 99, 235, 0.2);\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  min-height: 150px;\r\n  resize: vertical;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.attachment-section {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.attach-btn {\r\n  padding: 0.5rem 1rem;\r\n  background: #f3f4f6;\r\n  border: 1px solid rgba(37, 99, 235, 0.2);\r\n  border-radius: 6px;\r\n  color: #4b5563;\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.file-input {\r\n  display: none;\r\n}\r\n\r\n.modal-footer {\r\n  padding: 1rem;\r\n  border-top: 1px solid rgba(37, 99, 235, 0.1);\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n}\r\n\r\n.cancel-btn {\r\n  padding: 0.6rem 1.2rem;\r\n  background: #f3f4f6;\r\n  border: 1px solid rgba(37, 99, 235, 0.2);\r\n  border-radius: 6px;\r\n  color: #4b5563;\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.submit-btn {\r\n  padding: 0.6rem 1.2rem;\r\n  background: #2563eb;\r\n  border: none;\r\n  border-radius: 6px;\r\n  color: #ffffff;\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.submit-btn:hover {\r\n  background: #1d4ed8;\r\n}\r\n\r\n/* Marker Styles */\r\n.marker {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  background: #ffffff;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.marker.project {\r\n  color: #2563eb;\r\n}\r\n\r\n.marker.complaint {\r\n  color: #dc2626;\r\n}\r\n\r\n.marker-popup {\r\n  padding: 0.5rem;\r\n}\r\n\r\n.marker-popup h4 {\r\n  margin: 0 0 0.5rem 0;\r\n  color: #1e40af;\r\n}\r\n\r\n.marker-popup p {\r\n  margin: 0.3rem 0;\r\n  color: #4b5563;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n/* Responsive Design */\r\n@media (max-width: 1024px) {\r\n  .map-forum-container {\r\n    grid-template-columns: 1fr;\r\n    height: auto;\r\n  }\r\n\r\n  .map-panel,\r\n  .forum-panel {\r\n    height: 50vh;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .main-content {\r\n    margin-left: 0;\r\n    width: 100%;\r\n    padding: 1rem;\r\n  }\r\n\r\n  .map-container {\r\n    min-height: 300px;\r\n  }\r\n\r\n  .filters {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .filter-select {\r\n    width: 100%;\r\n  }\r\n\r\n  .layer-toggle {\r\n    flex-wrap: wrap;\r\n  }\r\n}\r\n\r\n/* Ensure the map is visible */\r\n:deep(.leaflet-container) {\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1;\r\n}\r\n\r\n:deep(.leaflet-control-container) {\r\n  z-index: 2;\r\n}\r\n\r\n:deep(.leaflet-pane) {\r\n  z-index: 1;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}